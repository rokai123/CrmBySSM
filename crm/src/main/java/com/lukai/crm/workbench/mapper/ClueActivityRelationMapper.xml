<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lukai.crm.workbench.mapper.ClueActivityRelationMapper">
	<resultMap id="BaseResultMap" type="com.lukai.crm.workbench.domain.ClueActivityRelation">
	    <id column="id" jdbcType="CHAR" property="id" />
	    <result column="clue_id" jdbcType="CHAR" property="clueId" />
	    <result column="activity_id" jdbcType="CHAR" property="activityId" />
  	</resultMap>
  
    <sql id="Base_Column_List">
   		id,clue_id,activity_id
  	</sql>
  <!-- 批量保存 -->
	<insert id="insertClueActivityRelationByList" parameterType="com.lukai.crm.workbench.domain.ClueActivityRelation">
		insert into tbl_clue_activity_relation (id, clue_id, activity_id) values 
		<foreach item="car" collection="list" separator=",">
			(#{car.id},#{car.clueId},#{car.activityId})
		</foreach>
	</insert>
	
	<delete id="deleteClueActivityRelationByClueIdAndActId" parameterType="map">
		delete from tbl_clue_activity_relation where clue_id=#{clueId} and activity_id=#{activityId}
	</delete>
	
	<select id="selectClueActivityRelationByClueId" parameterType="String" resultMap="BaseResultMap">
		select id,clue_id,activity_id from tbl_clue_activity_relation where clue_id=#{clueId}
	</select>
	
	<delete id="deleteClueActivityRelationByClueId" parameterType="String">
        delete from tbl_clue_activity_relation where clue_id=#{clueId}
    </delete>
</mapper>